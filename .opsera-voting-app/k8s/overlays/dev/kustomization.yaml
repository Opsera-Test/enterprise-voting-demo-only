# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║  DEV Environment Overlay - Voting App                                        ║
# ║  Direct deployment strategy for fast iteration                               ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: voting-app-dev

resources:
  - ../../base
  - namespace.yaml
  - db-secret.yaml

patches:
  - path: patch-replicas.yaml
  - path: patch-ingress.yaml

commonLabels:
  environment: dev

# Images - Updated by CI/CD workflow
images:
  - name: vote
    newName: PLACEHOLDER_ECR_URI/vote
    newTag: latest
  - name: result
    newName: PLACEHOLDER_ECR_URI/result
    newTag: latest
  - name: worker
    newName: PLACEHOLDER_ECR_URI/worker
    newTag: latest
